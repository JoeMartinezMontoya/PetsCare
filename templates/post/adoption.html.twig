{% extends 'base.html.twig' %}

{% block title %}PetsCare | {{ post.title }}{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('build/css/slick.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ asset('build/css/slick-theme.css') }}"/>
{% endblock %}

{% block body %}
    <div class="jumbotron jumbotron-fluid m-auto px-4"
         style="background-image: url('{{ asset(post.getCategoryImage) }}');background-size: cover;background-position: center; opacity: 0.75">
        <h1 class="text-danger" style="text-shadow: 1px 1px 1px grey">{{ post.title }}</h1>
        <h5>Annonce publiée le {{ post.createdAt | date('d/m/Y') }}</h5>
    </div>
    <div class="container bg-light p-4">
        <div class="col-md-6 pc-pet-carousel mx-auto my-4">
            {% for picture in post.pictures %}
                <img src="{{ vich_uploader_asset(picture, 'imageFile') | imagine_filter('medium') }}"
                     alt="{{ post.title }}" class="rounded">
            {% endfor %}
        </div>
        <table class="table table-striped">
            <tbody>
            <tr>
                <th scope="row">Auteur</th>
                <td>{{ post.author.username }}</td>
            </tr>
            <tr>
                <th scope="row">Description</th>
                <td>{{ post.content }}</td>
            </tr>
            <tr>
                <th scope="row">Venez les chercher à</th>
                <td>{{ post.location }}</td>
            </tr>
            </tbody>
        </table>
        <a href="{{ path('post_index') }}">back to list</a>

        <a href="{{ path('post_edit', {'id': post.id}) }}">edit</a>

        {{ include('post/_delete_form.html.twig') }}
    </div>
{% endblock %}
{% block javascripts %}
    <script type="text/javascript" src="{{asset('build/js/slick.js')}}"></script>
    <script>
        $(document).ready(function () {
            $('.pc-pet-carousel').slick({
                accessibility: false,
                autoplay: true,
                autoplaySpeed: 3000,
                dots: true,
                cssEase: 'ease',
                fade: true
            });
        });
    </script>
{% endblock %}