{% extends 'base.html.twig' %}

{% block title %}PetsCare | Profil d'utilisateur{% endblock %}

{% block body %}

    <div class="jumbotron">
        <h1>Bonjour {{ app.user.firstname }}</h1>
    </div>

    <div class="row m-auto">

        {# SIDE MENU #}
        <div class="col-md-3">
            <table class="table table-striped rounded-left" id="user-profile-side-menu">
                <tr>
                    <td>
                        <a href="#" id="userInformation">Mes informations</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <a href="#" id="userPets">Mes animaux</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <a href="#" id="userStats">Mes statistiques</a>
                    </td>
                </tr>
            </table>
        </div>

        {# INFORMATIONS #}
        <div class="col-md-9">
            {# TABLE USER INFORMATIONS #}
            <table class="table table-striped table-bordered rounded-right" id="pc-table-user-info-content"
                   style="display:none;">
                <tr>
                    <td colspan="2">
                        <div class="d-flex flex-row-reverse">
                            <a href="#" class="btn btn-danger m-1">Supprimer mon compte</a>
                            <a href="#" class="btn btn-info m-1">Modifier mes informations</a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Nom d'utilisateur</td>
                    <td>{{ app.user.username }}</td>
                </tr>
                <tr>
                    <td>Pr√©nom</td>
                    <td>{{ app.user.firstname }}</td>
                </tr>
                <tr>
                    <td>Nom de famille</td>
                    <td>{{ app.user.lastname }}</td>
                </tr>
                <tr>
                    <td>Adresse e-mail</td>
                    <td>{{ app.user.email }}</td>
                </tr>
            </table>
            {# END TABLE USER INFORMATIONS #}

            {# TABLE USER PETS #}
            <table class="table table-striped table-bordered rounded-right" id="pc-table-user-pet-content"
                   style="display:none;">
                <tr>
                    <td colspan="2">
                        <div class="d-flex flex-row-reverse">
                            <a href="{{ path('pet_new') }}" class="btn btn-info m-1">Ajouter un
                                animal</a>
                        </div>
                    </td>
                </tr>
                {% for pet in app.user.pets %}
                    <tr>
                        <td>
                            {{ pet.gender is same as 1 ? '<i class="fas fa-mars"></i>' :
                            pet.gender is same as 0 ? '<i class="fas fa-venus"></i>' :
                            '<i class="fas fa-genderless"></i>' }}
                            <a href="{{ path('pet_show', {'id': pet.id}) }}">{{ pet.name }}</a>
                        </td>
                        <td>
                            {{ pet.gender is same as 0 ? 'Inscrite' : 'Inscrit' }}
                            le {{ pet.createdat | date('d/m/Y') }}
                        </td>
                    </tr>
                {% endfor %}
            </table>
            {# END TABLE USER PETS #}

            {# TABLE USER STATS #}
            <table class="table table-striped table-bordered rounded-right" id="pc-table-user-stat-content"
                   style="display:none;">
                <tr>
                    <td>Vos animaux inscrit</td>
                    <td>{{ app.user.pets.count }} inscrit(s)</td>
                </tr>
            </table>
            {# ENDTABLE USER PETS #}
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        $('#userInformation').click(() => {
            $('#pc-table-user-info-content').show();
            $('#pc-table-user-pet-content').hide();
            $('#pc-table-user-stat-content').hide();
        })
        $('#userPets').click(() => {
            $('#pc-table-user-info-content').hide();
            $('#pc-table-user-pet-content').show();
            $('#pc-table-user-stat-content').hide();
        })
        $('#userStats').click(() => {
            $('#pc-table-user-info-content').hide();
            $('#pc-table-user-pet-content').hide();
            $('#pc-table-user-stat-content').show();
        })
    </script>
{% endblock %}